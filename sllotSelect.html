<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slot Selection</title>
    <link rel="stylesheet" href="style3.css">
    <style>
        /* Split screen layout */
        .split-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        .slot-selection, .timetable {
            flex: 1;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .theory {
            background-color: #4CAF50;
            color: white;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="split-container">
        <div class="slot-selection">
            <h2>Slot Selection</h2>
            <table>
                <thead>
                    <tr>
                        <th>Slot</th>
                        <th>Faculty Name</th>
                        <th>Total Seats</th>
                        <th>Seats Available</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>A1</td>
                        <td>Dr. Smith</td>
                        <td>60</td>
                        <td>12</td>
                        <td><button class="select-btn" data-slot="A1">Select</button></td>
                    </tr>
                    <tr>
                        <td>B2</td>
                        <td>Prof. Johnson</td>
                        <td>50</td>
                        <td>8</td>
                        <td><button class="select-btn" data-slot="B2">Select</button></td>
                    </tr>
                    <tr>
                        <td>C3</td>
                        <td>Dr. Lee</td>
                        <td>40</td>
                        <td>20</td>
                        <td><button class="select-btn" data-slot="C3">Select</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Timetable Section -->
        <div class="timetable">
            <h2>Your Timetable</h2>
            <table>
                <thead>
                    <tr>
                        <th>Day/Time</th>
                        <th>8:00 - 9:00</th>
                        <th>9:00 - 10:00</th>
                        <th>10:00 - 11:00</th>
                        <th>11:00 - 12:00</th>
                        <th>12:00 - 2:00</th>
                        <th>2:00 - 3:00</th>
                        <th>3:00 - 4:00</th>
                        <th>4:00 - 5:00</th>
                        <th>5:00 - 6:00</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Monday</td>
                        <td data-slot="A1">A1</td>
                        <td data-slot="F1">F1</td>
                        <td data-slot="D1">D1</td>
                        <td data-slot="B1">B1</td>
                        <td>Lunch</td>
                        <td data-slot="A2">A2</td>
                        <td data-slot="F2">F2</td>
                        <td data-slot="D2">D2</td>
                        <td data-slot="B2">B2</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Tuesday</td>
                        <td></td>
                        <td data-slot="A1">A1</td>
                        <td data-slot="B2"></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Wednesday</td>
                        <td data-slot="C3"></td>
                        <td></td>
                        <td></td>
                        <td data-slot="A1"></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Thursday</td>
                        <td data-slot="B2"></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Friday</td>
                        <td></td>
                        <td data-slot="A1"></td>
                        <td data-slot="C3"></td>
                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let timetable = JSON.parse(localStorage.getItem("timetable")) || {};

            function updateTimetableDisplay() {
                Object.keys(timetable).forEach(slot => {
                    let cell = document.querySelector(`td[data-slot="${slot}"]`);
                    if (cell) {
                        cell.classList.add("theory");
                        cell.textContent = timetable[slot];
                    }
                });
            }

            function selectSlot(slot) {
                let selectedCourse = localStorage.getItem("selectedCourse") || "Selected Course";

                // Save the selection
                timetable[slot] = selectedCourse;
                localStorage.setItem("timetable", JSON.stringify(timetable));

                // Update the UI
                updateTimetableDisplay();

                alert(`Slot ${slot} selected for ${selectedCourse}!`);
            }

            // Attach event listeners to slot selection buttons
            document.querySelectorAll(".select-btn").forEach(button => {
                button.addEventListener("click", function () {
                    let slot = this.getAttribute("data-slot");
                    selectSlot(slot);
                });
            });

            // Initial rendering of the timetable
            updateTimetableDisplay();
        });
    </script>

</body>
</html>
